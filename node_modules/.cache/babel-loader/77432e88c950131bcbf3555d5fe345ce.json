{"remainingRequest":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/babel-loader/lib/index.js!/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/LoginForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/LoginForm.vue","mtime":1619368882420},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luRm9ybSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJJbnB1dDogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBlcnJvcnM6IFtdLAogICAgICBtZXNzYWdlczogW10sCiAgICAgIHVzZXJMb2dpbjoge30KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdXNlcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VycyIpKSB8fCBbXTsKICAgICAgdGhpcy5lcnJvcnMgPSBbXTsKICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdOwogICAgICB2YXIgY3VycmVudFVzZXIgPSB1c2Vycy5maW5kKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgcmV0dXJuIHVzZXIubmFtZSA9PT0gX3RoaXMudXNlcklucHV0Lm5hbWU7CiAgICAgIH0pOwoKICAgICAgaWYgKGN1cnJlbnRVc2VyICYmIHRoaXMudXNlcklucHV0LnBhc3N3b3JkID09PSBjdXJyZW50VXNlci5wYXNzd29yZCkgewogICAgICAgIHRoaXMubWVzc2FnZXMucHVzaCgiTG9naW4gc3VjZXNzICEiKTsKICAgICAgICB0aGlzLnVzZXJMb2dpbiA9PT0gY3VycmVudFVzZXI7CiAgICAgICAgdmFyIHRvZG9zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9kb3MiKSkgfHwgW107CiAgICAgICAgdGhpcy50b2RvcyA9IHRvZG9zLmZpbHRlcihmdW5jdGlvbiAodG9kbykgewogICAgICAgICAgcmV0dXJuIHRvZG8udXNlcklkID09PSBfdGhpcy51c2VyTG9naW4udXNlcklkOwogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlckxvZ2luLnVzZXJJZCk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImN1cnJlbnRVc2VyIiwgSlNPTi5zdHJpbmdpZnkoY3VycmVudFVzZXIpKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3RvZG9zIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgiV3JvbmcgdXNlcm5hbWUgISIpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/LoginForm.vue"],"names":[],"mappings":";;;AA+BA,eAAe;AACX,EAAA,IAAI,EAAE,WADK;AAEX,EAAA,IAFW,kBAEJ;AACH,WAAO;AACH,MAAA,SAAS,EAAE;AACP,QAAA,IAAI,EAAE,EADC;AAEP,QAAA,QAAQ,EAAE;AAFH,OADR;AAKH,MAAA,MAAM,EAAE,EALL;AAMH,MAAA,QAAQ,EAAE,EANP;AAOH,MAAA,SAAS,EAAE;AAPR,KAAP;AAUH,GAbU;AAcX,EAAA,OAAO,EAAE;AACL,IAAA,KAAK,EAAE,iBAAY;AAAA;;AACf,UAAI,KAAI,GAAI,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAX,KAA6C,EAAzD;AAGA,WAAK,MAAL,GAAc,EAAd;AACA,WAAK,QAAL,GAAgB,EAAhB;AAEA,UAAI,WAAU,GAAI,KAAK,CAAC,IAAN,CAAW,UAAC,IAAD,EAAU;AACnC,eAAO,IAAI,CAAC,IAAL,KAAc,KAAI,CAAC,SAAL,CAAe,IAApC;AACH,OAFiB,CAAlB;;AAGA,UAAI,WAAU,IAAK,KAAK,SAAL,CAAe,QAAf,KAA4B,WAAW,CAAC,QAA3D,EAAqE;AACjE,aAAK,QAAL,CAAc,IAAd,CAAmB,gBAAnB;AAEA,aAAK,SAAL,KAAmB,WAAnB;AAEA,YAAI,KAAI,GAAI,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAX,KAA6C,EAAzD;AAEA,aAAK,KAAL,GAAa,KAAK,CAAC,MAAN,CACT,UAAC,IAAD;AAAA,iBAAU,IAAI,CAAC,MAAL,KAAgB,KAAI,CAAC,SAAL,CAAe,MAAzC;AAAA,SADS,CAAb;AAGA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAK,SAAL,CAAe,MAA3B;AAEA,QAAA,YAAY,CAAC,OAAb,CAAqB,aAArB,EAAoC,IAAI,CAAC,SAAL,CAAe,WAAf,CAApC;AAEA,aAAK,OAAL,CAAa,IAAb,CAAkB,QAAlB;AAEJ,OAhBA,MAgBO;AACH,aAAK,MAAL,CAAY,IAAZ,CAAiB,kBAAjB;AACJ;AACH;AA9BI;AAdE,CAAf","sourcesContent":["<template>\n<div class=\"login-form\">\n    <h1>Login</h1>\n    <div>\n        <input type=\"text\" placeholder=\"Enter your username\" v-model=\"userInput.name\" @keypress.enter=\"login()\" />\n    </div>\n    <div>\n        <input type=\"password\" placeholder=\"Password\" v-model=\"userInput.password\" @keypress.enter=\"login()\" />\n    </div>\n    <div><button @click=\"login()\">Sign in</button></div>\n    <div>\n        <p>\n            Don't have account? Let's\n            <router-link to=\"/register\">Sign up</router-link>\n        </p>\n    </div>\n    <div v-show=\"messages.length > 0\">\n        <h3 class=\"message\" v-for=\"message in messages\" :key=\"message\">\n            {{ message }}\n        </h3>\n    </div>\n    <div v-show=\"errors.length > 0\">\n        <h3 class=\"error\" v-for=\"error in errors\" :key=\"error\">\n            {{ error }}\n        </h3>\n    </div>\n</div>\n</template>\n\n<script>\n\nexport default {\n    name: \"LoginForm\",\n    data() {\n        return {\n            userInput: {\n                name: \"\",\n                password: \"\",\n            },\n            errors: [],\n            messages: [],\n            userLogin: {}\n\n        };\n    },\n    methods: {\n        login: function () {\n            let users = JSON.parse(localStorage.getItem(\"users\")) || [];\n            \n\n            this.errors = [];\n            this.messages = [];\n\n            let currentUser = users.find((user) => {\n                return user.name === this.userInput.name;\n            });\n            if (currentUser && this.userInput.password === currentUser.password) {\n                this.messages.push(\"Login sucess !\");\n\n                this.userLogin === currentUser;\n\n                let todos = JSON.parse(localStorage.getItem(\"todos\")) || [];\n\n                this.todos = todos.filter(\n                    (todo) => todo.userId === this.userLogin.userId);\n\n                console.log(this.userLogin.userId)\n\n                localStorage.setItem(\"currentUser\", JSON.stringify(currentUser));\n\n                this.$router.push(\"/todos\");\n\n            } else {\n                this.errors.push(\"Wrong username !\");\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.login-form {\n    text-align: center;\n}\n\n.login-form div {\n    margin-top: 1rem;\n}\n\n.login-form input {\n    font-size: 1rem;\n    border-radius: 0.5rem;\n}\n\n.error {\n    color: rgb(255, 42, 42);\n}\n\n.message {\n    color: #2bb421;\n}\n</style>\n"],"sourceRoot":""}]}