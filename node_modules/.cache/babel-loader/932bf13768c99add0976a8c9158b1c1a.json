{"remainingRequest":"/Users/Hung/hungg/vue-cli/login-form/node_modules/babel-loader/lib/index.js!/Users/Hung/hungg/vue-cli/login-form/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Hung/hungg/vue-cli/login-form/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Hung/hungg/vue-cli/login-form/src/pages/RegisterForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Hung/hungg/vue-cli/login-form/src/pages/RegisterForm.vue","mtime":1619359913823},{"path":"/Users/Hung/hungg/vue-cli/login-form/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hung/hungg/vue-cli/login-form/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Hung/hungg/vue-cli/login-form/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hung/hungg/vue-cli/login-form/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlZ2lzdGVyRm9ybSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJTaWdudXA6IHsKICAgICAgICB1c2VySWQ6ICIiLAogICAgICAgIHRvZG9JZDogIiIsCiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIGVycm9yczogW10sCiAgICAgIG1lc3NhZ2VzOiBbXSwKICAgICAgdG9kb3M6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2lnbnVwOiBmdW5jdGlvbiBzaWdudXAoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdXNlcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VycyIpKSB8fCBbXTsKICAgICAgdmFyIGJhZ3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJiYWdzIikpIHx8IFtdOwogICAgICB0aGlzLmVycm9ycyA9IFtdOwogICAgICB0aGlzLm1lc3NhZ2VzID0gW107CiAgICAgIHZhciB1c2VySWQgPSB1c2Vycy5sZW5ndGggKyAxOwogICAgICB1c2Vycy5mb3JFYWNoKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgaWYgKHVzZXIubmFtZSA9PT0gX3RoaXMudXNlclNpZ251cC5uYW1lICYmIHVzZXIucGFzc3dvcmQgPT09IF90aGlzLnVzZXJTaWdudXAucGFzc3dvcmQpIHsKICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCJUaGlzIG5hbWUgaGF2ZSBiZWVuIHJlZ2lzdGVyZWQgISIpOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICBpZiAodGhpcy5lcnJvcnMuaW5kZXhPZigiVGhpcyBuYW1lIGhhdmUgYmVlbiByZWdpc3RlcmVkICEiKSA9PT0gLTEpIHsKICAgICAgICB1c2Vycy5wdXNoKHsKICAgICAgICAgIHVzZXJJZDogdXNlcklkLAogICAgICAgICAgbmFtZTogdGhpcy51c2VyU2lnbnVwLm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy51c2VyU2lnbnVwLnBhc3N3b3JkCiAgICAgICAgfSk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJzIiwgSlNPTi5zdHJpbmdpZnkodXNlcnMpKTsKICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goIkNyZWF0ZSBhY2NvdW50IHN1Y2Nlc3MsIHJlYWR5IGZvciBsb2dpbiAhIik7IC8vIGNyZWF0ZSBiYWcgZm9yIG5ldyB1c2VyCgogICAgICAgIHZhciBuZXdCYWcgPSB7CiAgICAgICAgICB1c2VySWQ6IHVzZXJJZCwKICAgICAgICAgIHRvZG9zOiBbXQogICAgICAgIH07CiAgICAgICAgYmFncy5wdXNoKG5ld0JhZyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImJhZ3MiLCBKU09OLnN0cmluZ2lmeShiYWdzKSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/Hung/hungg/vue-cli/login-form/src/pages/RegisterForm.vue"],"names":[],"mappings":";;AAiCA,eAAe;AACX,EAAA,IAAI,EAAE,cADK;AAEX,EAAA,IAFW,kBAEJ;AACH,WAAO;AACH,MAAA,UAAU,EAAE;AACR,QAAA,MAAM,EAAE,EADA;AAER,QAAA,MAAM,EAAE,EAFA;AAGR,QAAA,IAAI,EAAE,EAHE;AAIR,QAAA,QAAQ,EAAE;AAJF,OADT;AAOH,MAAA,MAAM,EAAE,EAPL;AAQH,MAAA,QAAQ,EAAE,EARP;AASH,MAAA,KAAK,EAAE;AATJ,KAAP;AAWH,GAdU;AAeX,EAAA,OAAO,EAAE;AACL,IAAA,MAAM,EAAE,kBAAY;AAAA;;AAChB,UAAI,KAAI,GAAI,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAX,KAA6C,EAAzD;AACA,UAAI,IAAG,GAAI,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,MAArB,CAAX,KAA4C,EAAvD;AAEA,WAAK,MAAL,GAAc,EAAd;AACA,WAAK,QAAL,GAAgB,EAAhB;AACA,UAAI,MAAK,GAAI,KAAK,CAAC,MAAN,GAAe,CAA5B;AAEA,MAAA,KAAK,CAAC,OAAN,CAAc,UAAC,IAAD,EAAU;AACpB,YACI,IAAI,CAAC,IAAL,KAAc,KAAI,CAAC,UAAL,CAAgB,IAA9B,IACA,IAAI,CAAC,QAAL,KAAkB,KAAI,CAAC,UAAL,CAAgB,QAFtC,EAGE;AACE,UAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,kCAAjB;AACJ;AACH,OAPD;;AAQA,UAAI,KAAK,MAAL,CAAY,OAAZ,CAAoB,kCAApB,MAA4D,CAAC,CAAjE,EAAoE;AAChE,QAAA,KAAK,CAAC,IAAN,CAAW;AACP,UAAA,MAAM,EAAE,MADD;AAEP,UAAA,IAAI,EAAE,KAAK,UAAL,CAAgB,IAFf;AAGP,UAAA,QAAQ,EAAE,KAAK,UAAL,CAAgB;AAHnB,SAAX;AAKA,QAAA,YAAY,CAAC,OAAb,CAAqB,OAArB,EAA8B,IAAI,CAAC,SAAL,CAAe,KAAf,CAA9B;AACA,aAAK,QAAL,CAAc,IAAd,CAAmB,2CAAnB,EAPgE,CAShE;;AACA,YAAI,MAAK,GAAI;AACT,UAAA,MAAM,EAAE,MADC;AAET,UAAA,KAAK,EAAE;AAFE,SAAb;AAIA,QAAA,IAAI,CAAC,IAAL,CAAU,MAAV;AACA,QAAA,YAAY,CAAC,OAAb,CAAqB,MAArB,EAA6B,IAAI,CAAC,SAAL,CAAe,IAAf,CAA7B;AAEJ;AACH;AAnCI;AAfE,CAAf","sourcesContent":["<template>\n<div class=\"register-form\">\n    <h1>Register</h1>\n    <div>\n        <input type=\"text\" placeholder=\"New username\" v-model=\"userSignup.name\" />\n    </div>\n\n    <div>\n        <input type=\"password\" placeholder=\"Your password\" v-model=\"userSignup.password\" />\n    </div>\n    <div>\n        <input type=\"password\" placeholder=\"Confirm password\" />\n    </div>\n    <div><button @click=\"signup()\">Sign up</button></div>\n    <div>\n        <p>\n            Already have an account? <router-link to=\"/login\">Sign in</router-link>\n        </p>\n    </div>\n    <div v-show=\"errors.length > 0\">\n        <h3 class=\"error\" v-for=\"error in errors\" :key=\"error\">\n            {{ error }}\n        </h3>\n    </div>\n    <div v-show=\"messages.length > 0\">\n        <h3 class=\"message\" v-for=\"message in messages\" :key=\"message\">\n            {{ message }}\n        </h3>\n    </div>\n</div>\n</template>\n\n<script>\nexport default {\n    name: \"RegisterForm\",\n    data() {\n        return {\n            userSignup: {\n                userId: \"\",\n                todoId: \"\",\n                name: \"\",\n                password: \"\",\n            },\n            errors: [],\n            messages: [],\n            todos: [],\n        };\n    },\n    methods: {\n        signup: function () {\n            let users = JSON.parse(localStorage.getItem(\"users\")) || [];\n            let bags = JSON.parse(localStorage.getItem(\"bags\")) || [];\n\n            this.errors = [];\n            this.messages = [];\n            let userId = users.length + 1;\n\n            users.forEach((user) => {\n                if (\n                    user.name === this.userSignup.name &&\n                    user.password === this.userSignup.password\n                ) {\n                    this.errors.push(\"This name have been registered !\");\n                }\n            });\n            if (this.errors.indexOf(\"This name have been registered !\") === -1) {\n                users.push({\n                    userId: userId,\n                    name: this.userSignup.name,\n                    password: this.userSignup.password,\n                });\n                localStorage.setItem(\"users\", JSON.stringify(users));\n                this.messages.push(\"Create account success, ready for login !\");\n\n                // create bag for new user\n                let newBag = {\n                    userId: userId,\n                    todos: []\n                }\n                bags.push(newBag);\n                localStorage.setItem(\"bags\", JSON.stringify(bags));\n\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.register-form {\n    text-align: center;\n}\n\n.register-form div {\n    margin-top: 1rem;\n}\n\n.register-form input {\n    font-size: 1rem;\n    border-radius: 0.5rem;\n}\n\n.error {\n    color: rgb(255, 42, 42);\n}\n\n.message {\n    color: #2bb421;\n}\n</style>\n"],"sourceRoot":""}]}