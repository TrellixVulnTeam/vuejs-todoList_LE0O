{"remainingRequest":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/babel-loader/lib/index.js!/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/LoginForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/LoginForm.vue","mtime":1620317851832},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luRm9ybSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJJbnB1dDogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBlcnJvcnM6IFtdLAogICAgICBtZXNzYWdlczogW10sCiAgICAgIHVzZXJMb2dpbjoge30KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdXNlcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VycyIpKSB8fCBbXTsKICAgICAgdGhpcy5lcnJvcnMgPSBbXTsKICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdOwogICAgICB2YXIgY3VycmVudFVzZXIgPSB1c2Vycy5maW5kKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgcmV0dXJuIHVzZXIubmFtZSA9PT0gX3RoaXMudXNlcklucHV0Lm5hbWU7CiAgICAgIH0pOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoY3VycmVudFVzZXIgJiYgX3RoaXMudXNlcklucHV0LnBhc3N3b3JkID09PSBjdXJyZW50VXNlci5wYXNzd29yZCkgewogICAgICAgICAgX3RoaXMubWVzc2FnZXMucHVzaCgiTG9naW4gc3VjZXNzISBXZWxjb21lIGJhY2sgIiArIGN1cnJlbnRVc2VyLm5hbWUpOwoKICAgICAgICAgIF90aGlzLnVzZXJMb2dpbiA9PT0gY3VycmVudFVzZXI7CiAgICAgICAgICB2YXIgdG9kb3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2RvcyIpKSB8fCBbXTsKICAgICAgICAgIF90aGlzLnRvZG9zID0gdG9kb3MuZmlsdGVyKGZ1bmN0aW9uICh0b2RvKSB7CiAgICAgICAgICAgIHJldHVybiB0b2RvLnVzZXJJZCA9PT0gX3RoaXMudXNlckxvZ2luLnVzZXJJZDsKICAgICAgICAgIH0pOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImN1cnJlbnRVc2VyIiwgSlNPTi5zdHJpbmdpZnkoY3VycmVudFVzZXIpKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi90b2RvcyIpOwogICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCJXcm9uZyB1c2VybmFtZSBvciBwYXNzd29yZCAhIik7CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/LoginForm.vue"],"names":[],"mappings":";;;AA2DA,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,SAAS,EAAE;AACT,QAAA,IAAI,EAAE,EADG;AAET,QAAA,QAAQ,EAAE;AAFD,OADN;AAKL,MAAA,MAAM,EAAE,EALH;AAML,MAAA,QAAQ,EAAE,EANL;AAOL,MAAA,SAAS,EAAE;AAPN,KAAP;AASD,GAZY;AAcb,EAAA,OAAO,EAAE;AACP,IAAA,KAAK,EAAE,iBAAY;AAAA;;AACjB,UAAI,KAAI,GAAI,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAX,KAA6C,EAAzD;AAEA,WAAK,MAAL,GAAc,EAAd;AACA,WAAK,QAAL,GAAgB,EAAhB;AAEA,UAAI,WAAU,GAAI,KAAK,CAAC,IAAN,CAAW,UAAC,IAAD,EAAU;AACrC,eAAO,IAAI,CAAC,IAAL,KAAc,KAAI,CAAC,SAAL,CAAe,IAApC;AACD,OAFiB,CAAlB;AAGA,MAAA,UAAU,CAAC,YAAM;AACf,YAAI,WAAU,IAAK,KAAI,CAAC,SAAL,CAAe,QAAf,KAA4B,WAAW,CAAC,QAA3D,EAAqE;AACnE,UAAA,KAAI,CAAC,QAAL,CAAc,IAAd,CAAmB,gCAAgC,WAAW,CAAC,IAA/D;;AAEA,UAAA,KAAI,CAAC,SAAL,KAAmB,WAAnB;AAEA,cAAI,KAAI,GAAI,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAX,KAA6C,EAAzD;AAEA,UAAA,KAAI,CAAC,KAAL,GAAa,KAAK,CAAC,MAAN,CACX,UAAC,IAAD;AAAA,mBAAU,IAAI,CAAC,MAAL,KAAgB,KAAI,CAAC,SAAL,CAAe,MAAzC;AAAA,WADW,CAAb;AAIA,UAAA,YAAY,CAAC,OAAb,CAAqB,aAArB,EAAoC,IAAI,CAAC,SAAL,CAAe,WAAf,CAApC;AAEA,UAAA,UAAU,CAAC,YAAM;AACf,YAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACD,WAFS,EAEP,IAFO,CAAV;AAGF,SAhBA,MAgBO;AACL,UAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,8BAAjB;AACF;AACD,OApBS,EAoBP,IApBO,CAAV;AAqBD;AA/BM;AAdI,CAAf","sourcesContent":["<template>\n  <body>\n    <form class=\"login-form shadow\">\n      <h1>Login</h1>\n\n      <div class=\"username input-group\">\n        <input\n          class=\"form-control\"\n          type=\"text\"\n          placeholder=\"Enter your username\"\n          v-model=\"userInput.name\"\n          @keypress.enter=\"login()\"\n        />\n      </div>\n      <div class=\"password input-group\">\n        <input\n          class=\"form-control\"\n          type=\"password\"\n          placeholder=\"Password\"\n          v-model=\"userInput.password\"\n          @keypress.enter=\"login()\"\n        />\n      </div>\n      <div>\n        <button type=\"button\" class=\"btn btn-warning\" @click=\"login()\">\n          Log in\n        </button>\n      </div>\n      <div>\n        <p>\n          Don't have account? Let's\n          <router-link class=\"signup\" to=\"/register\">Sign up</router-link>\n        </p>\n      </div>\n      <div v-show=\"messages.length > 0\">\n        <p\n          class=\"message alert alert-success\"\n          role=\"alert\"\n          v-for=\"message in messages\"\n          :key=\"message\"\n        >\n          {{ message }}\n        </p>\n      </div>\n      <div v-show=\"errors.length > 0\">\n        <p\n          class=\"error alert alert-danger\"\n          role=\"alert\"\n          v-for=\"error in errors\"\n          :key=\"error\"\n        >\n          {{ error }}\n        </p>\n      </div>\n    </form>\n  </body>\n</template>\n\n<script>\nexport default {\n  name: \"LoginForm\",\n  data() {\n    return {\n      userInput: {\n        name: \"\",\n        password: \"\",\n      },\n      errors: [],\n      messages: [],\n      userLogin: {},\n    };\n  },\n\n  methods: {\n    login: function () {\n      let users = JSON.parse(localStorage.getItem(\"users\")) || [];\n\n      this.errors = [];\n      this.messages = [];\n\n      let currentUser = users.find((user) => {\n        return user.name === this.userInput.name;\n      });\n      setTimeout(() => {\n        if (currentUser && this.userInput.password === currentUser.password) {\n          this.messages.push(\"Login sucess! Welcome back \" + currentUser.name);\n\n          this.userLogin === currentUser;\n\n          let todos = JSON.parse(localStorage.getItem(\"todos\")) || [];\n\n          this.todos = todos.filter(\n            (todo) => todo.userId === this.userLogin.userId\n          );\n\n          localStorage.setItem(\"currentUser\", JSON.stringify(currentUser));\n\n          setTimeout(() => {\n            this.$router.push(\"/todos\");\n          }, 2000);\n        } else {\n          this.errors.push(\"Wrong username or password !\");\n        }\n      }, 1000);\n    },\n  },\n};\n</script>\n\n<style scoped>\nbody {\n  text-align: center;\n  background-color: rgba(232, 232, 20, 0.61);\n  height: 100vh;\n}\n\nform {\n  display: inline-block;\n}\n\n.login-form {\n  background-color: white;\n  padding: 1rem 5rem 1rem 5rem;\n  border-radius: 2rem;\n  margin-top: 8rem;\n  font-family: \"Quicksand\", \"Source Sans Pro\", -apple-system, BlinkMacSystemFont,\n    \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;\n  font-weight: 300;\n  color: #35495e;\n  letter-spacing: 1px;\n  animation: 0.5s appear;\n}\n@keyframes appear {\n  0% {\n    opacity: 0;\n  }\n}\n\n.login-form h1 {\n}\n\n.username {\n  margin-top: 2.2rem;\n}\n\n.password {\n  margin-top: 1rem;\n}\n\n.btn {\n  background-color: rgb(213, 213, 20);\n  width: 100%;\n  height: 80%;\n  border: none;\n  color: black;\n  margin-top: 1rem;\n  opacity: 1;\n  transition: 0.3s;\n}\n\n.btn:hover {\n  background-color: rgba(235, 235, 22, 0.919);\n  color: black;\n}\n\n.login-form p {\n  margin-top: 2rem;\n}\n\n.signup {\n  color: rgb(201, 201, 18);\n  text-decoration: none;\n  opacity: 1;\n  transition: 0.3s;\n}\n\n.signup:hover {\n  color: rgba(235, 235, 22, 0.919);\n}\n\n.alert {\n  font-size: 14px;\n  padding: 5px 12px 5px 12px;\n}\n\n.error {\n  color: rgb(255, 42, 42);\n}\n\n.message {\n  color: #2bb421;\n}\n</style>\n"],"sourceRoot":""}]}