{"remainingRequest":"/Users/Hung/hungg/vue-cli/login-form/node_modules/babel-loader/lib/index.js!/Users/Hung/hungg/vue-cli/login-form/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/Hung/hungg/vue-cli/login-form/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Hung/hungg/vue-cli/login-form/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Hung/hungg/vue-cli/login-form/src/pages/TodoList.vue?vue&type=template&id=c9fa1eb0&scoped=true","dependencies":[{"path":"/Users/Hung/hungg/vue-cli/login-form/src/pages/TodoList.vue","mtime":1619365738761},{"path":"/Users/Hung/hungg/vue-cli/login-form/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hung/hungg/vue-cli/login-form/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Hung/hungg/vue-cli/login-form/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1616796459000},{"path":"/Users/Hung/hungg/vue-cli/login-form/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hung/hungg/vue-cli/login-form/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtYzlmYTFlYjAiKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0lucHV0VG9kbyA9IF9yZXNvbHZlQ29tcG9uZW50KCJJbnB1dFRvZG8iKTsKCiAgdmFyIF9jb21wb25lbnRfdG9kb0NvbnRhaW5lciA9IF9yZXNvbHZlQ29tcG9uZW50KCJ0b2RvQ29udGFpbmVyIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0lucHV0VG9kbywgewogICAgb25BZGRUb2RvOiAkb3B0aW9ucy5hZGROZXdUb2RvCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbIm9uQWRkVG9kbyJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdG9kb0NvbnRhaW5lciwgewogICAgdG9kb3M6ICRkYXRhLnRvZG9zLAogICAgb25TZXREb25lOiAkb3B0aW9ucy5zZXREb25lLAogICAgb25EZWxldGVPbmU6ICRvcHRpb25zLmRlbGV0ZU9uZQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJ0b2RvcyIsICJvblNldERvbmUiLCAib25EZWxldGVPbmUiXSksIF9jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5sb2dvdXQgJiYgJG9wdGlvbnMubG9nb3V0LmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAiTG9nIE91dCIpXSk7Cn0pOw=="},{"version":3,"sources":["/Users/Hung/hungg/vue-cli/login-form/src/pages/TodoList.vue"],"names":[],"mappings":";;;;;;;;;uBACA,YAAA,CAIM,KAJN,EAIM,IAJN,EAIM,CAHF,YAAA,CAAmC,oBAAnC,EAAmC;AAAvB,IAAA,SAAO,EAAE,QAAA,CAAA;AAAc,GAAnC,EAA+B,IAA/B,EAA+B;AAAA;AAA/B,IAA+B,CAAA,WAAA,CAA/B,CAGE,EAFF,YAAA,CAA0E,wBAA1E,EAA0E;AAA1D,IAAA,KAAK,EAAE,KAAA,CAAA,KAAmD;AAA3C,IAAA,SAAO,EAAE,QAAA,CAAA,OAAkC;AAAxB,IAAA,WAAS,EAAE,QAAA,CAAA;AAAa,GAA1E,E,IAAA,E;;AAAA,I,qCAAA,CAEE,EADF,YAAA,CAAwC,QAAxC,EAAwC;AAA/B,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,MAAA,IAAA,QAAA,CAAA,MAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAA0B,GAAxC,EAAwB,SAAxB,CACE,CAJN,C","sourcesContent":["<template>\n<div>\n    <InputTodo @addTodo=\"addNewTodo\" />\n    <todoContainer :todos=\"todos\" @setDone=\"setDone\" @deleteOne=\"deleteOne\" />\n    <button @click=\"logout\">Log Out</button>\n</div>\n</template>\n\n<script>\nimport todoContainer from \"../components/todoContainer\";\nimport InputTodo from \"../components/InputTodo\";\n\nexport default {\n    name: \"TodoList\",\n    components: {\n        todoContainer,\n        InputTodo,\n    },\n\n    data() {\n        return {\n            newTodo: \"\",\n            todos: [],\n            currentUser: {}\n        };\n    },\n    mounted() {\n        let currentUser = JSON.parse(localStorage.getItem(\"currentUser\")) || {};\n        let bags = JSON.parse(localStorage.getItem(\"bags\")) || [];\n\n        let getBag = bags.find((bag) => {\n            return bag.userId === currentUser.userId;\n        })\n  console.log(currentUser);\n  console.log(getBag);\n        this.currentUser = currentUser;\n        this.todos = getBag.todos;\n    },\n    methods: {\n        //payload is input newTodo\n        addNewTodo(payload) {\n            let todos = JSON.parse(localStorage.getItem(\"todos\")) || [];\n\n            this.todos.push({\n                id: this.todos.length + 1,\n                title: payload,\n                isComplete: false,\n            });\n            todos.push({\n                id: this.todos.length + 1,\n                title: payload,\n                isComplete: false,\n            })\n            this.updateBags()\n        },\n        setDone(todoId) {\n\n            this.todos = this.todos.map((todo) => {\n                if (todo.id === todoId) {\n                    console.log(todo);\n                    todo.isComplete = !todo.isComplete;\n                }\n                return todo;\n            });\n            this.updateBags()\n        },\n        deleteOne(todoId) {\n\n            console.log(\"Delete One\");\n            this.todos = this.todos.filter((todo) => todo.id !== todoId);\n\n            this.updateBags()\n        },\n        updateBags() {\n            let bags = JSON.parse(localStorage.getItem(\"bags\")) || [];\n\n            bags = bags.map((bag) => {\n                if (bag.userId === this.currentUser.userId) {\n                    bag.todos = this.todos;\n                }\n                return bag;\n            })\n            localStorage.setItem(\"bags\", JSON.stringify(bags));\n        },\n        logout() {\n          this.$router.push(\"/login\");\n            localStorage.removeItem(\"currentUser\");\n        }\n    },\n};\n</script>\n\n<style scoped>\n.isComplete {\n    text-decoration: black;\n}\n</style>\n"],"sourceRoot":""}]}