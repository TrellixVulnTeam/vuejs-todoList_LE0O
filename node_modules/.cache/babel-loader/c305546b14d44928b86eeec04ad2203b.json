{"remainingRequest":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/babel-loader/lib/index.js!/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/TodoList.vue?vue&type=template&id=c9fa1eb0&scoped=true","dependencies":[{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/TodoList.vue","mtime":1619770875372},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1616796459000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi1jOWZhMWViMCIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtYzlmYTFlYjAiKTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIiCn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCJIZWxsbyAiKTsKCnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiY3VycmVudC11c2VyIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImxpc3QiCn07Cgp2YXIgX2hvaXN0ZWRfNSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImgzIiwgbnVsbCwgIlRoaW5ncyB0byBkbyIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9JbnB1dFRvZG8gPSBfcmVzb2x2ZUNvbXBvbmVudCgiSW5wdXRUb2RvIik7CgogIHZhciBfY29tcG9uZW50X3RvZG9Db250YWluZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgidG9kb0NvbnRhaW5lciIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImJvZHkiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJoMyIsIG51bGwsIFtfaG9pc3RlZF8yLCBfY3JlYXRlVk5vZGUoInNwYW4iLCBfaG9pc3RlZF8zLCBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLmN1cnJlbnRVc2VyLm5hbWUpLCAxCiAgLyogVEVYVCAqLwogICldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICBjbGFzczogImJ0biIsCiAgICB0eXBlOiAiYnV0dG9uIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMubG9nb3V0ICYmICRvcHRpb25zLmxvZ291dC5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgIkxvZyBPdXQiKV0pXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19ob2lzdGVkXzUsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0lucHV0VG9kbywgewogICAgY3VycmVudFVzZXI6ICRkYXRhLmN1cnJlbnRVc2VyLAogICAgb25BZGRUb2RvOiAkb3B0aW9ucy5hZGROZXdUb2RvCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbImN1cnJlbnRVc2VyIiwgIm9uQWRkVG9kbyJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdG9kb0NvbnRhaW5lciwgewogICAgdG9kb3M6ICRkYXRhLnRvZG9zLAogICAgb25TZXREb25lOiAkb3B0aW9ucy5zZXREb25lLAogICAgb25EZWxldGVPbmU6ICRvcHRpb25zLmRlbGV0ZU9uZQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJ0b2RvcyIsICJvblNldERvbmUiLCAib25EZWxldGVPbmUiXSldKV0pOwp9KTs="},{"version":3,"sources":["/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/TodoList.vue"],"names":[],"mappings":";;;;;;;;AAES,EAAA,KAAK,EAAC;;;+CACH,Q;;;AAAY,EAAA,KAAK,EAAC;;;AAKrB,EAAA,KAAK,EAAC;;;8BACP,YAAA,CAAqB,IAArB,EAAqB,IAArB,EAAI,cAAJ,EAAgB,CAAA;AAAA;AAAhB,C;;;;;;;;;uBARR,YAAA,CAYO,MAZP,EAYO,IAZP,EAYO,CAXH,YAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJF,YAAA,CAAuE,IAAvE,EAAuE,IAAvE,EAAuE,C,UAAA,EAA7D,YAAA,CAAwD,MAAxD,EAAA,UAAA,EAAwD,gBAAA,CAA1B,KAAA,CAAA,WAAA,CAAY,IAAc,CAAxD,EAA8C;AAAA;AAA9C,GAA6D,CAAvE,CAIE,EAHF,YAAA,CAEM,KAFN,EAEM,IAFN,EAEM,CADF,YAAA,CAAkE,QAAlE,EAAkE;AAA1D,IAAA,KAAK,EAAC,KAAoD;AAA9C,IAAA,IAAI,EAAC,QAAyC;AAA/B,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,MAAA,IAAA,QAAA,CAAA,MAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAA0B,GAAlE,EAAkD,SAAlD,CACE,CAFN,CAGE,CALN,CAWG,EALH,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHF,UAGE,EAFF,YAAA,CAA8D,oBAA9D,EAA8D;AAAlD,IAAA,WAAW,EAAE,KAAA,CAAA,WAAqC;AAAvB,IAAA,SAAO,EAAE,QAAA,CAAA;AAAc,GAA9D,E,IAAA,E;;AAAA,I,4BAAA,CAEE,EADF,YAAA,CAA0E,wBAA1E,EAA0E;AAA1D,IAAA,KAAK,EAAE,KAAA,CAAA,KAAmD;AAA3C,IAAA,SAAO,EAAE,QAAA,CAAA,OAAkC;AAAxB,IAAA,WAAS,EAAE,QAAA,CAAA;AAAa,GAA1E,E,IAAA,E;;AAAA,I,qCAAA,CACE,CAJN,CAKG,CAZP,C","sourcesContent":["<template>\n<body>\n    <div class=\"d-flex justify-content-center\">\n        <h3>Hello <span class=\"current-user\">{{ currentUser.name }}</span></h3>\n        <div>\n            <button class=\"btn\" type=\"button\" @click=\"logout\">Log Out</button>\n        </div>\n    </div>\n    <div class=\"list\">\n        <h3>Things to do</h3>\n        <InputTodo :currentUser=\"currentUser\" @addTodo=\"addNewTodo\" />\n        <todoContainer :todos=\"todos\" @setDone=\"setDone\" @deleteOne=\"deleteOne\" />\n    </div>\n</body>\n</template>\n\n<script>\nimport todoContainer from \"../components/todoContainer\";\nimport InputTodo from \"../components/InputTodo\";\n\nexport default {\n    name: \"TodoList\",\n    components: {\n        todoContainer,\n        InputTodo,\n    },\n\n    data() {\n        return {\n            newTodo: \"\",\n            todos: [],\n            currentUser: {}\n        };\n    },\n    created() {\n        let currentUser = JSON.parse(localStorage.getItem(\"currentUser\")) || {};\n        console.log(currentUser.userId);\n        if (!currentUser.userId) {\n            this.$router.push('/login')\n        }\n    },\n    mounted() {\n        let currentUser = JSON.parse(localStorage.getItem(\"currentUser\")) || {};\n        let bags = JSON.parse(localStorage.getItem(\"bags\")) || [];\n\n        let getBag = bags.find((bag) => {\n            return bag.userId === currentUser.userId;\n        })\n        console.log(currentUser.name);\n\n        this.currentUser = currentUser;\n        if(getBag){\n            this.todos = getBag.todos;\n        }\n    },\n    methods: {\n        //payload is input newTodo\n        addNewTodo(payload) {\n            let todos = JSON.parse(localStorage.getItem(\"todos\")) || [];\n\n            this.todos.push({\n                id: this.todos.length + 1,\n                title: payload,\n                isComplete: false,\n            });\n            todos.push({\n                id: this.todos.length + 1,\n                title: payload,\n                isComplete: false,\n            })\n            this.updateBags()\n        },\n        setDone(todoId) {\n\n            this.todos = this.todos.map((todo) => {\n                if (todo.id === todoId) {\n                    console.log(todo);\n                    todo.isComplete = !todo.isComplete;\n                }\n                return todo;\n            });\n            this.updateBags()\n        },\n        deleteOne(todoId) {\n\n            console.log(\"Delete One\");\n            this.todos = this.todos.filter((todo) => todo.id !== todoId);\n\n            this.updateBags()\n        },\n        updateBags() {\n            let bags = JSON.parse(localStorage.getItem(\"bags\")) || [];\n\n            bags = bags.map((bag) => {\n                if (bag.userId === this.currentUser.userId) {\n                    bag.todos = this.todos;\n                }\n                return bag;\n            })\n            localStorage.setItem(\"bags\", JSON.stringify(bags));\n        },\n        logout() {\n            this.$router.push(\"/login\");\n            localStorage.removeItem(\"currentUser\");\n        }\n    },\n};\n</script>\n\n<style scoped>\nbody {\n    text-align: center;\n    background-color: white;\n    height: 100vh;\n}\n\n.current-user {\n    color: rgb(213, 213, 20);\n}\n\n.list h3 {\n    margin-top: 0.5rem;\n}\n\n.list {\n    display: inline-block;\n    background-color: rgba(232, 232, 20, 0.61);\n    padding: 1rem 5rem 1rem 5rem;\n    border-radius: 2rem;\n    margin-top: 3rem;\n}\n\n.btn {\n    background-color: rgb(213, 213, 20);\n    border: none;\n    color: black;\n    opacity: 1;\n    transition: 0.3s\n}\n\n.btn:hover {\n    background-color: rgba(235, 228, 35, 0.919);\n    color: black;\n}\n</style>\n"],"sourceRoot":""}]}