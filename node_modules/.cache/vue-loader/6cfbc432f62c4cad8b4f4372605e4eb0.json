{"remainingRequest":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/TodoList.vue?vue&type=template&id=c9fa1eb0&scoped=true","dependencies":[{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/TodoList.vue","mtime":1619770875372},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1616796459000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Hung/hungg/vue-cli/vuejs-todolist/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cjxib2R5PgogICAgPGRpdiBjbGFzcz0iZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIiPgogICAgICAgIDxoMz5IZWxsbyA8c3BhbiBjbGFzcz0iY3VycmVudC11c2VyIj57eyBjdXJyZW50VXNlci5uYW1lIH19PC9zcGFuPjwvaDM+CiAgICAgICAgPGRpdj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIiB0eXBlPSJidXR0b24iIEBjbGljaz0ibG9nb3V0Ij5Mb2cgT3V0PC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9Imxpc3QiPgogICAgICAgIDxoMz5UaGluZ3MgdG8gZG88L2gzPgogICAgICAgIDxJbnB1dFRvZG8gOmN1cnJlbnRVc2VyPSJjdXJyZW50VXNlciIgQGFkZFRvZG89ImFkZE5ld1RvZG8iIC8+CiAgICAgICAgPHRvZG9Db250YWluZXIgOnRvZG9zPSJ0b2RvcyIgQHNldERvbmU9InNldERvbmUiIEBkZWxldGVPbmU9ImRlbGV0ZU9uZSIgLz4KICAgIDwvZGl2Pgo8L2JvZHk+Cg=="},{"version":3,"sources":["/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/TodoList.vue"],"names":[],"mappings":";AACA,CAAC,CAAC,CAAC,CAAC,CAAC;IACD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtE,CAAC,CAAC,CAAC,CAAC;YACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrE,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC7D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC7E,CAAC,CAAC,CAAC,CAAC,CAAC;AACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/Hung/hungg/vue-cli/vuejs-todolist/src/pages/TodoList.vue","sourceRoot":"","sourcesContent":["<template>\n<body>\n    <div class=\"d-flex justify-content-center\">\n        <h3>Hello <span class=\"current-user\">{{ currentUser.name }}</span></h3>\n        <div>\n            <button class=\"btn\" type=\"button\" @click=\"logout\">Log Out</button>\n        </div>\n    </div>\n    <div class=\"list\">\n        <h3>Things to do</h3>\n        <InputTodo :currentUser=\"currentUser\" @addTodo=\"addNewTodo\" />\n        <todoContainer :todos=\"todos\" @setDone=\"setDone\" @deleteOne=\"deleteOne\" />\n    </div>\n</body>\n</template>\n\n<script>\nimport todoContainer from \"../components/todoContainer\";\nimport InputTodo from \"../components/InputTodo\";\n\nexport default {\n    name: \"TodoList\",\n    components: {\n        todoContainer,\n        InputTodo,\n    },\n\n    data() {\n        return {\n            newTodo: \"\",\n            todos: [],\n            currentUser: {}\n        };\n    },\n    created() {\n        let currentUser = JSON.parse(localStorage.getItem(\"currentUser\")) || {};\n        console.log(currentUser.userId);\n        if (!currentUser.userId) {\n            this.$router.push('/login')\n        }\n    },\n    mounted() {\n        let currentUser = JSON.parse(localStorage.getItem(\"currentUser\")) || {};\n        let bags = JSON.parse(localStorage.getItem(\"bags\")) || [];\n\n        let getBag = bags.find((bag) => {\n            return bag.userId === currentUser.userId;\n        })\n        console.log(currentUser.name);\n\n        this.currentUser = currentUser;\n        if(getBag){\n            this.todos = getBag.todos;\n        }\n    },\n    methods: {\n        //payload is input newTodo\n        addNewTodo(payload) {\n            let todos = JSON.parse(localStorage.getItem(\"todos\")) || [];\n\n            this.todos.push({\n                id: this.todos.length + 1,\n                title: payload,\n                isComplete: false,\n            });\n            todos.push({\n                id: this.todos.length + 1,\n                title: payload,\n                isComplete: false,\n            })\n            this.updateBags()\n        },\n        setDone(todoId) {\n\n            this.todos = this.todos.map((todo) => {\n                if (todo.id === todoId) {\n                    console.log(todo);\n                    todo.isComplete = !todo.isComplete;\n                }\n                return todo;\n            });\n            this.updateBags()\n        },\n        deleteOne(todoId) {\n\n            console.log(\"Delete One\");\n            this.todos = this.todos.filter((todo) => todo.id !== todoId);\n\n            this.updateBags()\n        },\n        updateBags() {\n            let bags = JSON.parse(localStorage.getItem(\"bags\")) || [];\n\n            bags = bags.map((bag) => {\n                if (bag.userId === this.currentUser.userId) {\n                    bag.todos = this.todos;\n                }\n                return bag;\n            })\n            localStorage.setItem(\"bags\", JSON.stringify(bags));\n        },\n        logout() {\n            this.$router.push(\"/login\");\n            localStorage.removeItem(\"currentUser\");\n        }\n    },\n};\n</script>\n\n<style scoped>\nbody {\n    text-align: center;\n    background-color: white;\n    height: 100vh;\n}\n\n.current-user {\n    color: rgb(213, 213, 20);\n}\n\n.list h3 {\n    margin-top: 0.5rem;\n}\n\n.list {\n    display: inline-block;\n    background-color: rgba(232, 232, 20, 0.61);\n    padding: 1rem 5rem 1rem 5rem;\n    border-radius: 2rem;\n    margin-top: 3rem;\n}\n\n.btn {\n    background-color: rgb(213, 213, 20);\n    border: none;\n    color: black;\n    opacity: 1;\n    transition: 0.3s\n}\n\n.btn:hover {\n    background-color: rgba(235, 228, 35, 0.919);\n    color: black;\n}\n</style>\n"]}]}